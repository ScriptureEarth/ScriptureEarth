import{o as y}from"./theme.CEnq8wkH.js";let a=null;async function r(){return a||(a=await y("history",1,{upgrade(e){e.createObjectStore("history",{keyPath:"date"}).createIndex("date","date")}})),a}let i=null,t=null;async function c(e,o){let n=await r();t&&(clearTimeout(t),t=null);const s=new Date()[Symbol.toPrimitive]("number");i={...e,date:s},t=setTimeout(async()=>{await n.add("history",i),o&&o(i),clearTimeout(t),t=null,i=null},2e3)}async function u(){await(await r()).clear("history")}async function h(){return await(await r()).getAllFromIndex("history","date")}export{c as a,u as c,h as g};
