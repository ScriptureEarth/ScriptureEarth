import{s as y,A as E,B as $,b as _,f as m,m as d,i as x,h as p,n as I,e as g,a as R,c as b,g as F,q as L,k as P,S as M,t as Z,d as O,y as V,j}from"./scheduler.B2eiZa_g.js";import{S,i as C,c as H,a as B,m as T,t as z,b as N,d as U}from"./index.BNSRDwh8.js";import{e as k}from"./each.D6YF6ztN.js";import{D as W,h as w}from"./theme.CEnq8wkH.js";import{s as G}from"./share.ves1yLU4.js";function X(t){let e,a;return{c(){e=E("svg"),a=E("path"),this.h()},l(n){e=$(n,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var s=_(e);a=$(s,"path",{d:!0}),_(a).forEach(m),s.forEach(m),this.h()},h(){d(a,"d","M12 20q-.825 0-1.412-.587Q10 18.825 10 18q0-.825.588-1.413Q11.175 16 12 16t1.413.587Q14 17.175 14 18q0 .825-.587 1.413Q12.825 20 12 20Zm0-6q-.825 0-1.412-.588Q10 12.825 10 12t.588-1.413Q11.175 10 12 10t1.413.587Q14 11.175 14 12q0 .825-.587 1.412Q12.825 14 12 14Zm0-6q-.825 0-1.412-.588Q10 6.825 10 6t.588-1.412Q11.175 4 12 4t1.413.588Q14 5.175 14 6t-.587 1.412Q12.825 8 12 8Z"),d(e,"fill",t[0]),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"height","24"),d(e,"width","24")},m(n,s){x(n,e,s),p(e,a)},p(n,[s]){s&1&&d(e,"fill",n[0])},i:I,o:I,d(n){n&&m(e)}}}function Y(t,e,a){let{color:n="black"}=e;return t.$$set=s=>{"color"in s&&a(0,n=s.color)},[n]}class ee extends S{constructor(e){super(),C(this,e,Y,X,y,{color:0})}}function te(t){let e,a;return{c(){e=E("svg"),a=E("path"),this.h()},l(n){e=$(n,"svg",{fill:!0,xmlns:!0,height:!0,viewBox:!0,width:!0});var s=_(e);a=$(s,"path",{d:!0}),_(a).forEach(m),s.forEach(m),this.h()},h(){d(a,"d","M120-240v-80h240v80H120Zm0-200v-80h480v80H120Zm0-200v-80h720v80H120Z"),d(e,"fill",t[0]),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"height","24"),d(e,"viewBox","0 -960 960 960"),d(e,"width","24")},m(n,s){x(n,e,s),p(e,a)},p(n,[s]){s&1&&d(e,"fill",n[0])},i:I,o:I,d(n){n&&m(e)}}}function ne(t,e,a){let{color:n="black"}=e;return t.$$set=s=>{"color"in s&&a(0,n=s.color)},[n]}class re extends S{constructor(e){super(),C(this,e,ne,te,y,{color:0})}}function Q(t,e,a){const n=t.slice();return n[5]=e[a],n}function A(t){let e,a,n=t[5]+"",s,l,h;function c(){return t[3](t[5])}return{c(){e=g("li"),a=g("a"),s=Z(n)},l(r){e=b(r,"LI",{});var o=_(e);a=b(o,"A",{});var u=_(a);s=O(u,n),u.forEach(m),o.forEach(m)},m(r,o){x(r,e,o),p(e,a),p(a,s),l||(h=V(a,"click",c),l=!0)},p(r,o){t=r,o&1&&n!==(n=t[5]+"")&&j(s,n)},d(r){r&&m(e),l=!1,h()}}}function oe(t){let e,a,n,s,l,h;n=new ee({props:{color:t[1]}});let c=k(t[0]),r=[];for(let o=0;o<c.length;o+=1)r[o]=A(Q(t,c,o));return{c(){e=g("div"),a=g("div"),H(n.$$.fragment),s=R(),l=g("ul");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);a=b(u,"DIV",{tabindex:!0,class:!0});var i=_(a);B(n.$$.fragment,i),i.forEach(m),s=F(u),l=b(u,"UL",{tabindex:!0,class:!0});var f=_(l);for(let v=0;v<r.length;v+=1)r[v].l(f);f.forEach(m),u.forEach(m),this.h()},h(){d(a,"tabindex","0"),d(a,"class","dy-btn dy-btn-ghost p-1"),d(l,"tabindex","0"),d(l,"class","dy-dropdown-content dy-menu shadow bg-base-100 z-10"),d(e,"class","dy-dropdown dy-dropdown-bottom dy-dropdown-end")},m(o,u){x(o,e,u),p(e,a),T(n,a,null),p(e,s),p(e,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(l,null);h=!0},p(o,[u]){const i={};if(u&2&&(i.color=o[1]),n.$set(i),u&5){c=k(o[0]);let f;for(f=0;f<c.length;f+=1){const v=Q(o,c,f);r[f]?r[f].p(v,u):(r[f]=A(v),r[f].c(),r[f].m(l,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=c.length}},i(o){h||(z(n.$$.fragment,o),h=!0)},o(o){N(n.$$.fragment,o),h=!1},d(o){o&&m(e),U(n),L(r,o)}}}function ae(t,e,a){let n;P(t,W,r=>a(1,n=r));const s=M();let{actions:l=[""]}=e;function h(r){s("menuaction",{text:r}),document.activeElement.blur()}const c=r=>h(r);return t.$$set=r=>{"actions"in r&&a(0,l=r.actions)},[l,n,h,c]}class be extends S{constructor(e){super(),C(this,e,ae,oe,y,{actions:0})}}function q(t,e,a){const n=t.slice();return n[4]=e[a],n}function D(t){let e,a,n=t[4]+"",s,l,h;function c(){return t[2](t[4])}return{c(){e=g("li"),a=g("a"),s=Z(n)},l(r){e=b(r,"LI",{});var o=_(e);a=b(o,"A",{});var u=_(a);s=O(u,n),u.forEach(m),o.forEach(m)},m(r,o){x(r,e,o),p(e,a),p(a,s),l||(h=V(a,"click",c),l=!0)},p(r,o){t=r,o&1&&n!==(n=t[4]+"")&&j(s,n)},d(r){r&&m(e),l=!1,h()}}}function se(t){let e,a,n,s,l,h;n=new re({props:{color:"white"}});let c=k(t[0]),r=[];for(let o=0;o<c.length;o+=1)r[o]=D(q(t,c,o));return{c(){e=g("div"),a=g("div"),H(n.$$.fragment),s=R(),l=g("ul");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=b(o,"DIV",{class:!0});var u=_(e);a=b(u,"DIV",{tabindex:!0,class:!0});var i=_(a);B(n.$$.fragment,i),i.forEach(m),s=F(u),l=b(u,"UL",{tabindex:!0,class:!0});var f=_(l);for(let v=0;v<r.length;v+=1)r[v].l(f);f.forEach(m),u.forEach(m),this.h()},h(){d(a,"tabindex","0"),d(a,"class","dy-btn dy-btn-ghost p-1"),d(l,"tabindex","0"),d(l,"class","dy-dropdown-content dy-menu shadow bg-base-100 z-10"),d(e,"class","dy-dropdown dy-dropdown-bottom dy-dropdown-end")},m(o,u){x(o,e,u),p(e,a),T(n,a,null),p(e,s),p(e,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(l,null);h=!0},p(o,[u]){if(u&3){c=k(o[0]);let i;for(i=0;i<c.length;i+=1){const f=q(o,c,i);r[i]?r[i].p(f,u):(r[i]=D(f),r[i].c(),r[i].m(l,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=c.length}},i(o){h||(z(n.$$.fragment,o),h=!0)},o(o){N(n.$$.fragment,o),h=!1},d(o){o&&m(e),U(n),L(r,o)}}}function le(t,e,a){const n=M();let{actions:s=[""]}=e;function l(c){n("menuaction",{text:c}),document.activeElement.blur()}const h=c=>l(c);return t.$$set=c=>{"actions"in c&&a(0,s=c.actions)},[s,l,h]}class we extends S{constructor(e){super(),C(this,e,le,se,y,{actions:0})}}const ie=1,ce=2,ue=3;function de(t,e){return t.bookIndex>e.bookIndex?1:t.bookIndex<e.bookIndex?-1:parseInt(t.chapter)>parseInt(e.chapter)?1:parseInt(t.chapter)<parseInt(e.chapter)?-1:parseInt(t.verse)>parseInt(e.verse)?1:-1}function fe(t,e){return t.date<e.date?1:-1}function he(t,e){return t.penColor>e.penColor?1:t.penColor<e.penColor?-1:t.date<e.date?1:-1}function xe(t,e){return e===ce?t.toSorted(de):e===ie?t.toSorted(fe):e===ue?t.toSorted(he):t}const J="annotations.txt";function K(){let t="";return w.mainFeatures["annotation-share-subject"]?t+=w.mainFeatures["annotation-share-subject"]+`
`:t+=w.name+`
`,w.mainFeatures["annotation-share-email"]&&(t+=w.mainFeatures["annotation-share-email"]+`
`),t}async function Ee(t){let e=t.reference+`
`+t.text;await G(K(),e,J)}async function $e(t){let e=w.name+`

`+t.map(a=>`${a.reference}
${a.text}`).join(`

`);await G(K(),e,J,!0)}export{be as C,we as S,ie as a,ce as b,$e as c,ue as d,Ee as s,xe as t};
