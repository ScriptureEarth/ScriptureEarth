import{n as W,h as X,t as Y,p as Z,q as x,r as ee}from"../chunks/theme.CEnq8wkH.js";import{s as te,e as k,a as j,c as b,b as $,f as m,g as C,m as h,o as M,i as S,h as v,k as O,t as N,d as V,j as z,G as U,y as oe,r as q,q as ne,n as R}from"../chunks/scheduler.B2eiZa_g.js";import{S as ae,i as re,c as B,a as E,m as D,b as A,e as H,t as g,d as I,g as J}from"../chunks/index.BNSRDwh8.js";import{e as F}from"../chunks/each.D6YF6ztN.js";import{g as K,a as Q}from"../chunks/spread.CgU5AtxT.js";import{I as se}from"../chunks/IconCard.BvRfaGgR.js";import{S as le,s as ie,a as L,b as ce,c as _e,t as T}from"../chunks/annotation-share.CaKzZwZM.js";import{B as fe}from"../chunks/BookmarkIcon.2EiWal6y.js";import{S as ue}from"../chunks/ShareIcon.7CKEpOwI.js";import{N as me}from"../chunks/Navbar.CLDGmXiL.js";import{f as de}from"../chunks/dateUtils.Dj5s27ic.js";import{p as he}from"../chunks/stores.B9aCZ1Xs.js";import{g as pe,b as ge}from"../chunks/entry.BaUVQd1j.js";async function ke({depends:c}){const a=(await W()).filter(t=>X.bookCollections.some(n=>n.id===t.collection));return c("bookmarks"),{bookmarks:a}}const qe=Object.freeze(Object.defineProperty({__proto__:null,load:ke},Symbol.toStringTag,{value:"Module"}));function P(c,o,a){const t=c.slice();t[10]=o[a];const n={docSet:t[10].docSet,collection:t[10].collection,book:t[10].book,chapter:t[10].chapter,verse:t[10].verse,reference:t[10].reference,text:t[10].text,date:de(new Date(t[10].date)),actions:[t[1].Annotation_Menu_View,t[1].Annotation_Menu_Share,t[1].Annotation_Menu_Delete]};return t[11]=n,t}function be(c){let o,a,t=c[1].Annotation_Bookmarks+"",n;return{c(){o=k("label"),a=k("div"),n=N(t),this.h()},l(l){o=b(l,"LABEL",{for:!0,slot:!0});var e=$(o);a=b(e,"DIV",{class:!0});var r=$(a);n=V(r,t),r.forEach(m),e.forEach(m),this.h()},h(){h(a,"class","btn btn-ghost normal-case text-xl"),h(o,"for","sidebar"),h(o,"slot","center")},m(l,e){S(l,o,e),v(o,a),v(a,n)},p(l,e){e&2&&t!==(t=l[1].Annotation_Bookmarks+"")&&z(n,t)},d(l){l&&m(o)}}}function $e(c){let o,a,t,n,l,e,r,s;t=new ue({props:{color:"white"}});const f=[c[6]];let p={};for(let _=0;_<f.length;_+=1)p=U(p,f[_]);return l=new le({props:p}),l.$on("menuaction",c[8]),{c(){o=k("div"),a=k("button"),B(t.$$.fragment),n=j(),B(l.$$.fragment),this.h()},l(_){o=b(_,"DIV",{slot:!0});var d=$(o);a=b(d,"BUTTON",{class:!0});var i=$(a);E(t.$$.fragment,i),i.forEach(m),n=C(d),E(l.$$.fragment,d),d.forEach(m),this.h()},h(){h(a,"class","dy-btn dy-btn-ghost dy-btn-circle"),h(o,"slot","right-buttons")},m(_,d){S(_,o,d),v(o,a),D(t,a,null),v(o,n),D(l,o,null),e=!0,r||(s=oe(a,"click",c[7]),r=!0)},p(_,d){const i=d&64?K(f,[Q(_[6])]):{};l.$set(i)},i(_){e||(g(t.$$.fragment,_),g(l.$$.fragment,_),e=!0)},o(_){A(t.$$.fragment,_),A(l.$$.fragment,_),e=!1},d(_){_&&m(o),I(t),I(l),r=!1,s()}}}function ve(c){let o,a,t=F(T(c[2].data.bookmarks,c[0])),n=[];for(let e=0;e<t.length;e+=1)n[e]=G(P(c,t,e));const l=e=>A(n[e],1,1,()=>{n[e]=null});return{c(){for(let e=0;e<n.length;e+=1)n[e].c();o=q()},l(e){for(let r=0;r<n.length;r+=1)n[r].l(e);o=q()},m(e,r){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,r);S(e,o,r),a=!0},p(e,r){if(r&23){t=F(T(e[2].data.bookmarks,e[0]));let s;for(s=0;s<t.length;s+=1){const f=P(e,t,s);n[s]?(n[s].p(f,r),g(n[s],1)):(n[s]=G(f),n[s].c(),g(n[s],1),n[s].m(o.parentNode,o))}for(J(),s=t.length;s<n.length;s+=1)l(s);H()}},i(e){if(!a){for(let r=0;r<t.length;r+=1)g(n[r]);a=!0}},o(e){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)A(n[r]);a=!1},d(e){e&&m(o),ne(n,e)}}}function Ae(c){let o,a=c[1].Annotation_Bookmarks_None+"",t,n,l,e=c[1].Annotation_Bookmarks_None_Info+"",r;return{c(){o=k("div"),t=N(a),n=j(),l=k("div"),r=N(e),this.h()},l(s){o=b(s,"DIV",{class:!0});var f=$(o);t=V(f,a),f.forEach(m),n=C(s),l=b(s,"DIV",{class:!0});var p=$(l);r=V(p,e),p.forEach(m),this.h()},h(){h(o,"class","annotation-message-none"),h(l,"class","annotation-message-none-info")},m(s,f){S(s,o,f),v(o,t),S(s,n,f),S(s,l,f),v(l,r)},p(s,f){f&2&&a!==(a=s[1].Annotation_Bookmarks_None+"")&&z(t,a),f&2&&e!==(e=s[1].Annotation_Bookmarks_None_Info+"")&&z(r,e)},i:R,o:R,d(s){s&&(m(o),m(n),m(l))}}}function Se(c){let o,a;return o=new fe({props:{slot:"icon",color:"#b10000"}}),{c(){B(o.$$.fragment)},l(t){E(o.$$.fragment,t)},m(t,n){D(o,t,n),a=!0},p:R,i(t){a||(g(o.$$.fragment,t),a=!0)},o(t){A(o.$$.fragment,t),a=!1},d(t){I(o,t)}}}function G(c){let o,a;const t=[c[11]];function n(...e){return c[9](c[10],...e)}let l={$$slots:{icon:[Se]},$$scope:{ctx:c}};for(let e=0;e<t.length;e+=1)l=U(l,t[e]);return o=new se({props:l}),o.$on("menuaction",n),{c(){B(o.$$.fragment)},l(e){E(o.$$.fragment,e)},m(e,r){D(o,e,r),a=!0},p(e,r){c=e;const s=r&7?K(t,[Q(c[11])]):{};r&16384&&(s.$$scope={dirty:r,ctx:c}),o.$set(s)},i(e){a||(g(o.$$.fragment,e),a=!0)},o(e){A(o.$$.fragment,e),a=!1},d(e){I(o,e)}}}function we(c){let o,a,t,n,l,e,r,s=`${c[3]}px`,f;t=new me({props:{$$slots:{"right-buttons":[$e],center:[be]},$$scope:{ctx:c}}});const p=[Ae,ve],_=[];function d(i,u){return i[2].data.bookmarks.length===0?0:1}return e=d(c),r=_[e]=p[e](c),{c(){o=k("div"),a=k("div"),B(t.$$.fragment),n=j(),l=k("div"),r.c(),this.h()},l(i){o=b(i,"DIV",{class:!0,style:!0});var u=$(o);a=b(u,"DIV",{class:!0});var y=$(a);E(t.$$.fragment,y),y.forEach(m),n=C(u),l=b(u,"DIV",{id:!0,class:!0});var w=$(l);r.l(w),w.forEach(m),u.forEach(m),this.h()},h(){h(a,"class","navbar"),h(l,"id","bookmarks"),h(l,"class","overflow-y-auto p-2.5 max-w-screen-md mx-auto w-full"),M(l,"font-size",s),h(o,"class","grid grid-rows-[auto,1fr]"),M(o,"height","100vh"),M(o,"height","100dvh")},m(i,u){S(i,o,u),v(o,a),D(t,a,null),v(o,n),v(o,l),_[e].m(l,null),f=!0},p(i,[u]){const y={};u&16391&&(y.$$scope={dirty:u,ctx:i}),t.$set(y);let w=e;e=d(i),e===w?_[e].p(i,u):(J(),A(_[w],1,1,()=>{_[w]=null}),H(),r=_[e],r?r.p(i,u):(r=_[e]=p[e](i),r.c()),g(r,1),r.m(l,null)),u&8&&s!==(s=`${i[3]}px`)&&M(l,"font-size",s)},i(i){f||(g(t.$$.fragment,i),g(r),f=!0)},o(i){A(t.$$.fragment,i),A(r),f=!1},d(i){i&&m(o),I(t),_[e].d()}}}function ye(c,o,a){let t,n,l;O(c,Y,i=>a(1,t=i)),O(c,he,i=>a(2,n=i)),O(c,Z,i=>a(3,l=i));async function e(i,u){switch(i.detail.text){case t.Annotation_Menu_View:ee.set(u),pe(`${ge}/`);break;case t.Annotation_Menu_Share:await ie(u);break;case t.Annotation_Menu_Delete:await x(u.date);break}}function r(i){switch(i.detail.text){case t.Annotation_Sort_Order_Reference:a(0,f=ce);break;case t.Annotation_Sort_Order_Date:a(0,f=L);break}}const s={actions:[t.Annotation_Sort_Order_Reference,t.Annotation_Sort_Order_Date]};let f=L;return[f,t,n,l,e,r,s,async()=>await _e(T(n.data.bookmarks,f)),i=>r(i),(i,u)=>e(u,i)]}class Fe extends ae{constructor(o){super(),re(this,o,ye,we,te,{})}}export{Fe as component,qe as universal};
