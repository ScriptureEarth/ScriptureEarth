import{c as R}from"../chunks/contents.EgJd3ViG.js";import{s as Ee,e as w,a as L,c as y,b as E,f as p,g as S,m as _,o as H,i as D,h as k,q as Te,k as P,t as K,d as Q,j as U,y as ee,n as Ve,C as oe,r as re}from"../chunks/scheduler.B2eiZa_g.js";import{S as Be,i as De,c as W,a as Y,m as Z,t as V,e as te,b as B,d as x,g as le}from"../chunks/index.BNSRDwh8.js";import{e as ce}from"../chunks/each.D6YF6ztN.js";import{p as Fe}from"../chunks/stores.B9aCZ1Xs.js";import{N as Ce}from"../chunks/Navbar.CLDGmXiL.js";import{v as J,w as fe,h as j,x as G,l as Ae,y as Ne,s as Le,z as Se,A as ue,M as ze,B as Me}from"../chunks/theme.CEnq8wkH.js";import{b as z,g as X}from"../chunks/entry.BaUVQd1j.js";import{a as Oe}from"../chunks/index.QqT5-XEs.js";import{T as Pe}from"../chunks/TextAppearanceIcon.BU1t6h4r.js";import{A as je}from"../chunks/index.4IN-9o6T.js";import{B as qe}from"../chunks/BottomNavigationBar.BKMweGyX.js";async function Re({params:a}){const e=Number(a.id),t=R.screens.find(s=>s.id===e),i=[];for(const s of t.items){const r=R.items.find(g=>g.id===s.id);r&&i.push(r)}const l=R.features,n=R.title;return{menu:t,items:i,features:l,title:n}}const ot=Object.freeze(Object.defineProperty({__proto__:null,load:Re},Symbol.toStringTag,{value:"Module"}));function de(a,e,t){const i=a.slice();return i[21]=e[t],i}function Ge(a){let e,t,i;return{c(){e=w("label"),t=w("div"),i=K(a[2]),this.h()},l(l){e=y(l,"LABEL",{for:!0,slot:!0});var n=E(e);t=y(n,"DIV",{class:!0});var s=E(t);i=Q(s,a[2]),s.forEach(p),n.forEach(p),this.h()},h(){_(t,"class","btn btn-ghost normal-case text-xl"),_(e,"for","sidebar"),_(e,"slot","center")},m(l,n){D(l,e,n),k(e,t),k(t,i)},p(l,n){n&4&&U(i,l[2])},d(l){l&&p(e)}}}function me(a){let e,t,i,l,n;return t=new Pe({props:{color:"white"}}),{c(){e=w("label"),W(t.$$.fragment),this.h()},l(s){e=y(s,"LABEL",{class:!0});var r=E(e);Y(t.$$.fragment,r),r.forEach(p),this.h()},h(){_(e,"class","dy-btn dy-btn-ghost p-0.5 dy-no-animation")},m(s,r){D(s,e,r),Z(t,e,null),i=!0,l||(n=ee(e,"click",a[13]),l=!0)},i(s){i||(V(t.$$.fragment,s),i=!0)},o(s){B(t.$$.fragment,s),i=!1},d(s){s&&p(e),x(t),l=!1,n()}}}function Xe(a){let e,t,i,l=a[0].data.features["show-text-size-button"]===!0&&me(a);return{c(){e=w("div"),t=w("div"),l&&l.c(),this.h()},l(n){e=y(n,"DIV",{slot:!0,class:!0});var s=E(e);t=y(s,"DIV",{class:!0});var r=E(t);l&&l.l(r),r.forEach(p),s.forEach(p),this.h()},h(){_(t,"class","flex"),_(e,"slot","right-buttons"),_(e,"class","flex items-center")},m(n,s){D(n,e,s),k(e,t),l&&l.m(t,null),i=!0},p(n,s){n[0].data.features["show-text-size-button"]===!0?l?s&1&&V(l,1):(l=me(n),l.c(),V(l,1),l.m(t,null)):l&&(le(),B(l,1,1,()=>{l=null}),te())},i(n){i||(V(l),i=!0)},o(n){B(l),i=!1},d(n){n&&p(e),l&&l.d()}}}function he(a){let e,t,i,l,n;t=new je.Volume({});function s(...r){return a[14](a[21],...r)}return{c(){e=w("div"),W(t.$$.fragment),this.h()},l(r){e=y(r,"DIV",{class:!0});var g=E(e);Y(t.$$.fragment,g),g.forEach(p),this.h()},h(){_(e,"class","contents-item-audio-image")},m(r,g){D(r,e,g),Z(t,e,null),i=!0,l||(n=ee(e,"click",s),l=!0)},p(r,g){a=r},i(r){i||(V(t.$$.fragment,r),i=!0)},o(r){B(t.$$.fragment,r),i=!1},d(r){r&&p(e),x(t),l=!1,n()}}}function _e(a){let e,t,i,l,n;return{c(){e=w("div"),t=w("img"),this.h()},l(s){e=y(s,"DIV",{class:!0,style:!0});var r=E(e);t=y(r,"IMG",{class:!0,src:!0,alt:!0}),r.forEach(p),this.h()},h(){_(t,"class","contents-image"),oe(t.src,i=z+"/"+a[6]+"/"+a[21].imageFilename)||_(t,"src",i),_(t,"alt",l=a[21].imageFilename),_(e,"class","contents-image-block"),_(e,"style",n=""+(J(a[4]["div.contents-image-block"])+$e(a[21])))},m(s,r){D(s,e,r),k(e,t)},p(s,r){r&1&&!oe(t.src,i=z+"/"+s[6]+"/"+s[21].imageFilename)&&_(t,"src",i),r&1&&l!==(l=s[21].imageFilename)&&_(t,"alt",l),r&17&&n!==(n=""+(J(s[4]["div.contents-image-block"])+$e(s[21])))&&_(e,"style",n)},d(s){s&&p(e)}}}function pe(a){let e,t=(a[21].title[a[3]]??a[21].title.default??"")+"",i;return{c(){e=w("div"),i=K(t),this.h()},l(l){e=y(l,"DIV",{class:!0});var n=E(e);i=Q(n,t),n.forEach(p),this.h()},h(){_(e,"class","contents-title")},m(l,n){D(l,e,n),k(e,i)},p(l,n){n&9&&t!==(t=(l[21].title[l[3]]??l[21].title.default??"")+"")&&U(i,t)},d(l){l&&p(e)}}}function ge(a){let e,t=(a[21].subtitle[a[3]]??a[21].subtitle.default??"")+"",i;return{c(){e=w("div"),i=K(t),this.h()},l(l){e=y(l,"DIV",{class:!0});var n=E(e);i=Q(n,t),n.forEach(p),this.h()},h(){_(e,"class","contents-subtitle")},m(l,n){D(l,e,n),k(e,i)},p(l,n){n&9&&t!==(t=(l[21].subtitle[l[3]]??l[21].subtitle.default??"")+"")&&U(i,t)},d(l){l&&p(e)}}}function be(a){let e,t=a[21].linkType==="reference"&&ve(a);return{c(){t&&t.c(),e=re()},l(i){t&&t.l(i),e=re()},m(i,l){t&&t.m(i,l),D(i,e,l)},p(i,l){i[21].linkType==="reference"?t?t.p(i,l):(t=ve(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&p(e),t&&t.d(i)}}}function ve(a){let e,t=a[21].linkTarget+"",i;return{c(){e=w("div"),i=K(t),this.h()},l(l){e=y(l,"DIV",{class:!0});var n=E(e);i=Q(n,t),n.forEach(p),this.h()},h(){_(e,"class","contents-ref")},m(l,n){D(l,e,n),k(e,i)},p(l,n){n&1&&t!==(t=l[21].linkTarget+"")&&U(i,t)},d(l){l&&p(e)}}}function ke(a){let e,t,i,l,n,s,r=`${a[5]}px`,g,T,I,m,M,d=(a[21].audioFilename[a[3]]||a[21].audioFilename.default)&&he(a),o=a[21].imageFilename&&_e(a),c=a[0].data.features["show-titles"]===!0&&pe(a),h=a[0].data.features["show-subtitles"]===!0&&ge(a),u=a[0].data.features["show-references"]===!0&&be(a);function F(...$){return a[15](a[21],...$)}return{c(){e=w("div"),d&&d.c(),t=L(),o&&o.c(),i=L(),l=w("div"),c&&c.c(),n=L(),h&&h.c(),s=L(),u&&u.c(),g=L(),this.h()},l($){e=y($,"DIV",{class:!0,id:!0});var b=E(e);d&&d.l(b),t=S(b),o&&o.l(b),i=S(b),l=y(b,"DIV",{class:!0});var C=E(l);c&&c.l(C),n=S(C),h&&h.l(C),s=S(C),u&&u.l(C),C.forEach(p),g=S(b),b.forEach(p),this.h()},h(){_(l,"class","contents-text-block"),H(l,"font-size",r),_(e,"class","contents-item-block contents-link-ref"),_(e,"id",T=a[21].id)},m($,b){D($,e,b),d&&d.m(e,null),k(e,t),o&&o.m(e,null),k(e,i),k(e,l),c&&c.m(l,null),k(l,n),h&&h.m(l,null),k(l,s),u&&u.m(l,null),k(e,g),I=!0,m||(M=ee(e,"click",F),m=!0)},p($,b){a=$,a[21].audioFilename[a[3]]||a[21].audioFilename.default?d?(d.p(a,b),b&9&&V(d,1)):(d=he(a),d.c(),V(d,1),d.m(e,t)):d&&(le(),B(d,1,1,()=>{d=null}),te()),a[21].imageFilename?o?o.p(a,b):(o=_e(a),o.c(),o.m(e,i)):o&&(o.d(1),o=null),a[0].data.features["show-titles"]===!0?c?c.p(a,b):(c=pe(a),c.c(),c.m(l,n)):c&&(c.d(1),c=null),a[0].data.features["show-subtitles"]===!0?h?h.p(a,b):(h=ge(a),h.c(),h.m(l,s)):h&&(h.d(1),h=null),a[0].data.features["show-references"]===!0?u?u.p(a,b):(u=be(a),u.c(),u.m(l,null)):u&&(u.d(1),u=null),b&32&&r!==(r=`${a[5]}px`)&&H(l,"font-size",r),(!I||b&1&&T!==(T=a[21].id))&&_(e,"id",T)},i($){I||(V(d),I=!0)},o($){B(d),I=!1},d($){$&&p(e),d&&d.d(),o&&o.d(),c&&c.d(),h&&h.d(),u&&u.d(),m=!1,M()}}}function He(a){let e,t;return e=new qe({props:{barType:Ke}}),{c(){W(e.$$.fragment)},l(i){Y(e.$$.fragment,i)},m(i,l){Z(e,i,l),t=!0},p:Ve,i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function Je(a){let e,t,i,l,n,s,r,g,T;i=new Ce({props:{showBackButton:a[1],$$slots:{"right-buttons":[Xe],center:[Ge]},$$scope:{ctx:a}}}),i.$on("backNavigation",a[9]);let I=ce(a[0].data.items),m=[];for(let o=0;o<I.length;o+=1)m[o]=ke(de(a,I,o));const M=o=>B(m[o],1,1,()=>{m[o]=null});let d=a[10]&&He();return{c(){e=w("div"),t=w("div"),W(i.$$.fragment),l=L(),n=w("div"),s=w("div");for(let o=0;o<m.length;o+=1)m[o].c();g=L(),d&&d.c(),this.h()},l(o){e=y(o,"DIV",{class:!0,style:!0});var c=E(e);t=y(c,"DIV",{class:!0});var h=E(t);Y(i.$$.fragment,h),h.forEach(p),l=S(c),n=y(c,"DIV",{class:!0});var u=E(n);s=y(u,"DIV",{id:!0,class:!0,style:!0});var F=E(s);for(let $=0;$<m.length;$+=1)m[$].l(F);F.forEach(p),u.forEach(p),g=S(c),d&&d.l(c),c.forEach(p),this.h()},h(){_(t,"class","navbar"),_(s,"id","container"),_(s,"class","contents"),_(s,"style",r=J(a[4]["body.contents"])),_(n,"class","overflow-y-auto mx-auto max-w-screen-md"),_(e,"class","grid grid-rows-[auto,1fr]"),H(e,"height","100vh"),H(e,"height","100dvh")},m(o,c){D(o,e,c),k(e,t),Z(i,t,null),k(e,l),k(e,n),k(n,s);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(s,null);k(e,g),d&&d.m(e,null),T=!0},p(o,[c]){const h={};if(c&2&&(h.showBackButton=o[1]),c&16777221&&(h.$$scope={dirty:c,ctx:o}),i.$set(h),c&505){I=ce(o[0].data.items);let u;for(u=0;u<I.length;u+=1){const F=de(o,I,u);m[u]?(m[u].p(F,c),V(m[u],1)):(m[u]=ke(F),m[u].c(),V(m[u],1),m[u].m(s,null))}for(le(),u=I.length;u<m.length;u+=1)M(u);te()}(!T||c&16&&r!==(r=J(o[4]["body.contents"])))&&_(s,"style",r),o[10]&&d.p(o,c)},i(o){if(!T){V(i.$$.fragment,o);for(let c=0;c<I.length;c+=1)V(m[c]);V(d),T=!0}},o(o){B(i.$$.fragment,o),m=m.filter(Boolean);for(let c=0;c<m.length;c+=1)B(m[c]);B(d),T=!1},d(o){o&&p(e),x(i),Te(m,o),d&&d.d()}}}const Ke="contents";function $e(a){if(a.features["image-width"])return"width: "+a.features["image-width"]}function Qe(a,e,t){var ae,ie;let i,l,n,s,r,g,T,I,m;P(a,G,f=>t(11,s=f)),P(a,Ae,f=>t(3,r=f)),P(a,Fe,f=>t(0,g=f)),P(a,Ne,f=>t(12,T=f)),P(a,Le,f=>t(4,I=f)),P(a,Se,f=>t(5,m=f));const M=fe(j.programVersion,"12.0")<0?"illustrations":"contents",d=fe(j.programVersion,"12.0")<0?"assets":"contents";function o(f,v){f.stopPropagation();const O=v.audioFilename[r]??v.audioFilename.default;let A=new Audio;A.src=`${z}/${d}/${O}`,A.play()}function c(f,v){f.target.style.background=i,setTimeout(()=>{h(v)},100)}async function h(f){switch(f.linkType){case"reference":G.pushItem(g.data.menu.id),await Oe(u(f));break;case"screen":G.pushItem(g.data.menu.id),await X(`${z}/contents/${f.linkTarget}`);break;case"other":switch(f.linkLocation){case"about":case"settings":X(`${z}/${f.linkLocation}`);break;case"layout":ue.open(ze);break;case"website":window.open(`${f.linkTarget}`,"_blank");break}break;default:X(`${z}/${f.linkLocation}`);break}}function u(f){var se;let v,O,A,q,ne;const N=f.linkTarget.split(".");switch(f.layoutMode&&((se=f.layoutCollection)==null?void 0:se.length)>0&&(O=f.layoutCollection[0],v=j.bookCollections.find(Ie=>Ie.id===O).languageCode+"_"+O),N.length){case 1:A=N[0],q="1";break;case 2:A=N[0],q=N[1];break;case 3:A=N[0],q=N[1],ne=N[2];break}return{docSet:v,collection:O,book:A,chapter:q,verse:ne}}function F(f){let v="";switch(f.data.features["title-type"]){case"app-name":v=j.name;break;case"screen":v=f.data.menu.title[r]??f.data.menu.title.default??"";break;case"custom":v=f.data.title[r]??f.data.title.default??"";break}return v}function $(f){if(f.preventDefault(),s.length>0){const v=G.popItem();X(`${z}/contents/${v}`)}}const b=((ae=j)==null?void 0:ae.bottomNavBarItems)&&((ie=j)==null?void 0:ie.bottomNavBarItems.length)>0,C=()=>ue.open(Me,{contentsMode:!0}),we=(f,v)=>o(v,f),ye=(f,v)=>c(v,f);return a.$$.update=()=>{a.$$.dirty&4096&&(i=T.ContentsItemTouchColor),a.$$.dirty&1&&t(2,l=F(g)),a.$$.dirty&2048&&t(1,n=s.length>0)},[g,n,l,r,I,m,M,o,c,$,b,s,T,C,we,ye]}class rt extends Be{constructor(e){super(),De(this,e,Qe,Je,Ee,{})}}export{rt as component,ot as universal};
